(()=>{"use strict";var e=".";function n(n){e=n}var t=!0;function r(e){t=e}function i(){document.getElementById("showTable").innerHTML=null;var r=e+"/"+this.innerHTML;n(r),o(r,t)}function o(e,n){document.getElementById("path").textContent="Путь к директории: "+e,fetch("http://localhost:9001/path?dst="+e+"&sort="+(1==n?"ASC":"DESC")).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return function(e){for(var n=document.createElement("table"),t=0;t<e.length;t++){var r=n.insertRow(t),o=r.insertCell(0),c=r.insertCell(1),l=r.insertCell(2);o.innerHTML=e[t].fileType,c.innerHTML=e[t].name,l.innerHTML=e[t].convertedSize,"Директория"==e[t].fileType&&c.addEventListener("click",i)}var a=document.getElementById("showTable");a.innerHTML="",a.appendChild(n)}(e)})).catch((function(e){alert(e.errorText)}))}document.addEventListener("DOMContentLoaded",(function(){return o(e,t)}),!1),document.getElementById("directoryUp").addEventListener("click",(function(){if("."!=e){var r=e.split("/");r.splice(-1);var i=r.join("/");n(i),o(i,t)}else alert("Вы на верху файловой системы!")})),document.getElementById("sort").addEventListener("click",(function(){var n;1==t?(r(n=!1),o(e,n)):(r(n=!0),o(e,n))}))})();