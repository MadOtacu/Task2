(()=>{"use strict";var e="";function t(t){e=t,document.getElementById("path").textContent="Текущая директория: "+e}var n,l=!0;function o(e){l=e}function d(){document.getElementById("showTable").innerHTML=null;var n=e+"/"+this.innerHTML;t(n),r(n,l)}function r(e,l){document.getElementById("showTable").style.display="none",document.getElementById("loader").style.display="block",fetch("/path?dst="+e+"&sort="+(1==l?"ASC":"DESC")).then((function(e){return e.json()})).then((function(e){if(0==e.status){n=e.startPath,t(e.path);var l=e.data;document.getElementById("loader").style.display="none",function(e){for(var t=document.createElement("table"),n=0;n<e.length;n++){var l=t.insertRow(n),o=l.insertCell(0),r=l.insertCell(1),a=l.insertCell(2);o.textContent=e[n].fileType,r.textContent=e[n].name,a.textContent=e[n].convertedSize,"Директория"==e[n].fileType&&(r.addEventListener("click",d),r.classList.add("buttonCell"))}var i=document.getElementById("showTable");i.innerHTML="",i.appendChild(t)}(l),document.getElementById("showTable").style.display="block"}else document.getElementById("loader").style.display="none",alert(e.errorText)})).catch((function(e){alert(e.errorText)}))}document.addEventListener("DOMContentLoaded",(function(){return r(e,l)}),!1),document.getElementById("directoryUp").addEventListener("click",(function(){if(e!=n){var o=e.split("/");o.splice(-1);var d=o.join("/");t(d),r(d,l)}else alert("Вы на верху файловой системы!")})),document.getElementById("sort").addEventListener("click",(function(){var t;1==l?(o(t=!1),r(e,t)):(o(t=!0),r(e,t))}))})();