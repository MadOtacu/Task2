(()=>{"use strict";var e="";function t(t){e=t,document.getElementById("path").textContent="Текущая директория: ".concat(e)}var n,o=!0;function l(e){o=e}function a(n){document.getElementById("showTable").innerHTML=null;var l="".concat(e,"/").concat(n.currentTarget.cells[1].textContent);t(l),c(l,o)}function c(e,o){document.getElementById("showTable").style.display="none",document.getElementById("loader").style.display="block";var l="/path?dst=".concat(e,"&sort=").concat(1==o?"ASC":"DESC");fetch(l).then((function(e){return e.json()})).then((function(e){if(0==e.status){l=e.elapsedTime,document.getElementById("time").textContent="Время выполнения запроса: ".concat(l," секунд"),n=e.startPath,t(e.path);var o=e.data;document.getElementById("loader").style.display="none",function(e){for(var t=document.createElement("table"),n=0;n<e.length;n++){var o=t.insertRow(n),l=o.insertCell(0),c=o.insertCell(1),d=o.insertCell(2);l.textContent=e[n].fileType,c.textContent=e[n].name,d.textContent=e[n].convertedSize,"Директория"==e[n].fileType&&(o.addEventListener("click",a),o.classList.add("buttonCell"))}var r=document.getElementById("showTable");r.innerHTML="",r.appendChild(t)}(o),document.getElementById("showTable").style.display="block"}else document.getElementById("loader").style.display="none",alert(e.errorText);var l})).catch((function(e){alert(e.errorText)}))}document.addEventListener("DOMContentLoaded",(function(){return c(e,o)}),!1),document.getElementById("directoryUp").addEventListener("click",(function(){if(e!=n){var l=e.split("/");l.splice(-1);var a=l.join("/");t(a),c(a,o)}else alert("Вы на верху файловой системы!")})),document.getElementById("sort").addEventListener("click",(function(){var t;1==o?(l(t=!1),c(e,t)):(l(t=!0),c(e,t))}))})();