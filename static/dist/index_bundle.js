(()=>{"use strict";var e="/home";function t(t){e=t}var n=!0;function l(e){n=e}function o(){document.getElementById("showTable").innerHTML=null;var l=e+"/"+this.innerHTML;t(l),d(l,n)}function d(e,n){document.getElementById("path").textContent="Путь к директории: "+e,document.getElementById("showTable").style.display="none",document.getElementById("loader").style.display="block",fetch("/path?dst="+e+"&sort="+(1==n?"ASC":"DESC")).then((function(e){return e.json()})).then((function(e){if(200==e.status){t(e.path);var n=e.data;document.getElementById("loader").style.display="none",function(e){for(var t=document.createElement("table"),n=0;n<e.length;n++){var l=t.insertRow(n),d=l.insertCell(0),r=l.insertCell(1),a=l.insertCell(2);d.textContent=e[n].fileType,r.textContent=e[n].name,a.textContent=e[n].convertedSize,"Директория"==e[n].fileType&&(r.addEventListener("click",o),r.classList.add("buttonCell"))}var i=document.getElementById("showTable");i.innerHTML="",i.appendChild(t)}(n),document.getElementById("showTable").style.display="block"}else document.getElementById("loader").style.display="none",alert(e.errorText)})).catch((function(e){alert(e.errorText)}))}document.addEventListener("DOMContentLoaded",(function(){return d(e,n)}),!1),document.getElementById("directoryUp").addEventListener("click",(function(){if("/home"!=e){var l=e.split("/");l.splice(-1);var o=l.join("/");t(o),d(o,n)}else alert("Вы на верху файловой системы!")})),document.getElementById("sort").addEventListener("click",(function(){var t;1==n?(l(t=!1),d(e,t)):(l(t=!0),d(e,t))}))})();