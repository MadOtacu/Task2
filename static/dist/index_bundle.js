(()=>{"use strict";var t=".";function e(e){t=e}var n=!0;function r(t){n=t}function i(){document.getElementById("showTable").innerHTML=null;var r=t+"/"+this.innerHTML;e(r),o(r,n)}function o(t,e){document.getElementById("path").textContent="Путь к директории: "+t,fetch("/path?dst="+t+"&sort="+(1==e?"ASC":"DESC")).then((function(t){return t.json()})).then((function(t){200==t.status?function(t){for(var e=document.createElement("table"),n=0;n<t.length;n++){var r=e.insertRow(n),o=r.insertCell(0),c=r.insertCell(1),l=r.insertCell(2);o.textContent=t[n].fileType,c.textContent=t[n].name,l.textContent=t[n].convertedSize,"Директория"==t[n].fileType&&(c.addEventListener("click",i),c.classList.add("buttonCell"))}var a=document.getElementById("showTable");a.innerHTML="",a.appendChild(e)}(t.data):alert(t.errorText)})).catch((function(t){alert(t.errorText)}))}document.addEventListener("DOMContentLoaded",(function(){return o(t,n)}),!1),document.getElementById("directoryUp").addEventListener("click",(function(){if("."!=t){var r=t.split("/");r.splice(-1);var i=r.join("/");e(i),o(i,n)}else alert("Вы на верху файловой системы!")})),document.getElementById("sort").addEventListener("click",(function(){var e;1==n?(r(e=!1),o(t,e)):(r(e=!0),o(t,e))}))})();